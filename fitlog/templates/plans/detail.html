{% extends "base.html" %}
{% block title %}Plan: {{ plan.name }} – FitLog{% endblock %}

{% block content %}
  <a href="{{ url_for('plans.list_plans_page') }}">&larr; Zurück</a>
  <h2>Plan: {{ plan.name }}</h2>

  <h3>Übungen im Plan</h3>
  {% if exercises_in_plan %}
    <table>
      <thead>
        <tr>
          <th>#</th><th>Übung</th><th>Muskelgruppe</th><th>Position</th>
        </tr>
      </thead>
      <tbody>
        {% for ex in exercises_in_plan %}
          <tr>
            <td>{{ loop.index }}</td>
            <td>{{ ex.name }}</td>
            <td>{{ ex.muscle_group or "–" }}</td>
            <td>{{ ex.position or "–" }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>Noch keine Übungen im Plan.</p>
  {% endif %}

  <h3>Übung hinzufügen</h3>
  <form class="inline" action="{{ url_for('plans.add_exercise', plan_id=plan.id) }}" method="post">
    <select name="exercise_id" required>
      <option value="">– Bitte wählen –</option>
      {% for e in all_exercises %}
        <option value="{{ e.id }}">{{ e.name }}</option>
      {% endfor %}
    </select>
    <input type="number" name="position" placeholder="Position (optional)" min="1" style="width: 10rem;">
    <button type="submit">Hinzufügen</button>
  </form>
{% endblock %}
